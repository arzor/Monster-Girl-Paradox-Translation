// EVENT 0006
Name "Enemy Talks Seduction Decision"

If(0,41,0)
 EndEventProcessing()
 0()
EndIf()
If(0,86,0)
 EndEventProcessing()
 0()
EndIf()
RunCommonEvent(201)
108("スイッチ11がオフなら、ルカが有効ではないのでイベント中断")
408("以降の誘惑と会話はスキップ")
If(0,11,1)
 EndEventProcessing()
 0()
EndIf()
108("スイッチ12は「誘惑か会話が1度も行われていないか」を表す")
408("コモン203,204で誘惑か会話を行う時にスイッチ12をオフにする")
408("スイッチ12がオフになると、以降の誘惑と会話はスキップする")
ChangeSwitch(12,12,0)
ChangeVariable(13,13,0,2,1,4)
If(12,"all_members_armor_have?(1740)")
 ChangeVariable(13,13,0,0,1)
 0()
EndIf()
If(12,"all_members_armor_have?(1741)")
 ChangeVariable(13,13,0,0,1)
 0()
EndIf()
If(0,22,0)
 ChangeVariable(13,13,0,0,1)
 0()
EndIf()
If(0,21,0)
 ChangeVariable(13,13,0,0,0)
 0()
EndIf()
If(1,13,0,1,0)
 ChangeVariable(112,112,0,0,0)
 StartLoop()
  ChangeVariable(112,112,1,0,1)
  108("誘惑の判定および実行")
  RunCommonEvent(203)
  108("スイッチ12がオフなら、誘惑が行われたのでイベント中断")
  408("以降の誘惑と会話はスキップ")
  If(0,12,1)
   108("■■■必ず変数112を0にすること■■■")
   ChangeVariable(112,112,0,0,0)
   EndEventProcessing()
   0()
  EndIf()
  108("６の実行後にループ中断")
  If(1,112,0,6,0)
   Break()
   0()
  EndIf()
  0()
 EndLoop()
 0()
EndIf()
DefineLabel("会話判定")
If(1,29,0,143,0)
 108("■■■必ず変数112を0にすること■■■")
 ChangeVariable(112,112,0,0,0)
 EndEventProcessing()
 0()
EndIf()
ChangeVariable(13,13,0,2,1,20)
If(1,13,0,1,0)
 ChangeVariable(112,112,0,0,0)
 StartLoop()
  ChangeVariable(112,112,1,0,1)
  108("会話の判定および実行")
  RunCommonEvent(204)
  108("スイッチ12がオフなら、会話が行われたのでイベント中断")
  408("以降の会話はスキップ")
  If(0,12,1)
   108("■■■必ず変数112を0にすること■■■")
   ChangeVariable(112,112,0,0,0)
   EndEventProcessing()
   0()
  EndIf()
  108("６の実行後にループ中断")
  If(1,112,0,6,0)
   Break()
   0()
  EndIf()
  0()
 EndLoop()
 0()
EndIf()
108("■■■必ず変数112を0にすること■■■")
ChangeVariable(112,112,0,0,0)
0()
