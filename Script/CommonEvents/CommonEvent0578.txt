// EVENT 0578
Name "RC: Sphinx 1"

If(0,2401,1)
 ShowMessageFace("sphinx_fc1",0,0,2,1)
 ShowMessage("\\n<Sphinx>I've done something callous to the Cow Demon Queen earlier. Perhaps I teased her too much because I was familiar with her ancestors.")
 ShowMessageFace("sphinx_fc1",0,0,2,2)
 ShowMessage("\\n<Sphinx>Incidentally, Hero Luka...\nIf have the time to spare, would you like to try answering my riddle?")
 ShowMessageFace("sphinx_fc1",0,0,2,3)
 ShowMessage("\\n<Sphinx>There is no need to be on guard, you will not be devoured should you answer wrong. This is merely for leisure, to pass the time.")
 If(1,1098,0,3,0)
  ShowMessageFace("",0,0,2,4)
  ShowMessage("Right now, I need to deliver that pizza first.\nShe should be practicing on the stage.")
  EndEventProcessing()
  0()
 EndIf()
 If(1,1098,0,4,0)
  ShowMessageFace("",0,0,2,5)
  ShowMessage("I should be heading to the first floor dining hall now to eat lunch first.")
  EndEventProcessing()
  0()
 EndIf()
 If(1,1098,0,7,0)
  ShowMessageFace("",0,0,2,6)
  ShowMessage("Right now, I need to deliver that pizza first.\nShe should be practicing on the stage.")
  EndEventProcessing()
  0()
 EndIf()
 If(0,2338,0)
  ShowMessageFace("",0,0,2,7)
  ShowMessage("I'm in the middle of carrying luggage at the moment.\nI should prioritize heading to the cathedral first.")
  EndEventProcessing()
  0()
 EndIf()
 JumpToLabel("メイン")
 0()
EndIf()
If(0,2401,0)
 ShowMessageFace("sphinx_fc1",0,0,2,8)
 ShowMessage("\\n<Sphinx>Hrmm... Do you still have some business with me?")
 JumpToLabel("メイン")
 0()
EndIf()
DefineLabel("メイン")
If(1,1098,0,12,2)
 355("ex_choice_add(\"Attempt her riddle (advances time)\",1,")
 655("\"v[1098] >= 5\",0)")
 0()
EndIf()
If(1,1098,0,13,1)
 355("ex_choice_add(\"Attempt her riddle\",1,")
 655("\"v[1098] >= 5\",0)")
 0()
EndIf()
355("ex_choice_add(\"Consult regarding the phenomenon\",2,")
655("\"s[2341]\",0)")
655("ex_choice_add(\"Ask about any regrets\",3,")
655("\"s[2342]\",0)")
655("ex_choice_add(\"Ask about tools that can loop time\",4,")
655("\"s[2343]\",0)")
655("ex_choice_add(\"Ask about the pizza order\",5,")
655("\"s[2345]\",0)")
355("ex_choice_add(\"Ask about the mysterious makina\",6,")
655("\"s[2365]\",0)")
655("ex_choice_add(\"Ask about items needed for our plan\",7,")
655("\"s[2364]\",0)")
655("ex_choice_add(\"Invite to the tea party\",8,")
655("\"s[2378]\",0)")
655("ex_choice_add(\"Leave\",10)")
355("ex_choice_show(0,11,[0,0])")
If(1,9,0,1,0)
 If(0,2401,1)
  If(1,1098,0,13,1)
   If(0,2371,1)
    ShowMessageFace("sphinx_fc1",0,0,2,9)
    ShowMessage("\\n<Sphinx>Very well... I shall ask you three riddles in total, and I expect you to successfully solve them. Make one mistake and you will have failed. Solve them all and I shall reward you.")
    ShowMessageFace("sphinx_fc1",0,0,2,10)
    ShowMessage("\\n<Sphinx>Now then, the first riddle...")
    ShowMessageFace("ruka_fc1",0,0,2,11)
    ShowMessage("\\n<Luka>The answer to the first is \"three.\"\nThe answer to the second is \"1/3.\"\nThe answer to the third is \"they do not.\"")
    ShowMessageFace("sphinx_fc1",2,0,2,12)
    ShowMessage("\\n<Sphinx>...?!?!?!?!")
    ShowMessageFace("ruka_fc1",0,0,2,13)
    ShowMessage("\\n<Luka>I've answered all of your riddles correctly, I'll be having that reward now.")
    ShowMessageFace("sphinx_fc1",2,0,2,14)
    ShowMessage("\\n<Sphinx>Th-this is... Unbelievable...")
    250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0a,0x49,0x74,0x65,0x6d,0x31,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x55))
    ChangeSwitch(2357,2357,0)
    ChangeSwitch(2399,2399,0)
    ChangeSwitch(2371,2371,0)
    ChangeSwitch(2372,2372,0)
    ShowMessageFace("",0,0,2,15)
    ShowMessage("Obtained the Labyrinth Book: Master Level!")
    ShowMessageFace("",0,0,2,16)
    ShowMessage("With this, I should be able to stall Vinum... Now I just need to procure the rest of the items.")
    If(1,1099,0,4,0)
     RunCommonEvent(5842)
     EndEventProcessing()
     0()
    EndIf()
    221()
    ChangeSwitch(2401,2401,0)
    222()
    EndEventProcessing()
    0()
   Else()
    ChangeSwitch(2357,2357,0)
    ChangeSwitch(2401,2401,0)
    ShowMessageFace("sphinx_fc1",0,0,2,17)
    ShowMessage("\\n<Sphinx>You should already have my reward.\nThere is no need to answer any more riddles...")
    JumpToLabel("メイン")
    0()
   EndIf()
   0()
  EndIf()
  ShowMessageFace("sphinx_fc1",0,0,2,18)
  ShowMessage("\\n<Sphinx>Very well... I shall ask you three riddles in total, and I expect you to successfully solve them. Make one mistake and you will have failed. Solve them all and I shall reward you.")
  ShowMessageFace("sphinx_fc1",0,0,2,19)
  ShowMessage("\\n<Sphinx>Now, the first riddle...\nTo start with, I shall test your language arts.")
  ShowMessageFace("sphinx_fc1",0,0,2,20)
  ShowMessage("\\n<Sphinx>\"Buffalo buffalo Buffalo buffalo buffalo buffalo Buffalo buffalo.\" Now, how many herds of buffalo are there?")
  ShowChoices(strings("Eight","Five","Three","None"),0)
  IfPlayerPicksChoice(0,null)
   JumpToLabel("失敗1")
   0()
  IfPlayerPicksChoice(1,null)
   JumpToLabel("失敗1")
   0()
  IfPlayerPicksChoice(2,null)
   JumpToLabel("正解1")
   0()
  IfPlayerPicksChoice(3,null)
   JumpToLabel("失敗1")
   0()
  404()
  DefineLabel("失敗1")
  ShowMessageFace("sphinx_fc1",2,0,2,21)
  ShowMessage("\\n<Sphinx>Oh my... You failed at just the first question.\nYou must be remarkably foolish, just like that Cow Demon Queen.")
  ShowMessageFace("",0,0,2,22)
  ShowMessage("I failed to answer the Sphinx's riddle correctly...\nI didn't suffer any penalty, but I still felt kind of frustrated.")
  If(1,1099,0,4,0)
   RunCommonEvent(5842)
   EndEventProcessing()
   0()
  EndIf()
  221()
  ChangeSwitch(2401,2401,0)
  RunCommonEvent(540)
  EndEventProcessing()
  DefineLabel("正解1")
  ShowMessageFace("sphinx_fc1",0,0,2,23)
  ShowMessage("\\n<Sphinx>Yes, that is correct... I imagined you would know that much. Let's move on to the second question.")
  ShowMessageFace("sphinx_fc1",0,0,2,24)
  ShowMessage("\\n<Sphinx>A certain couple had two children.\nOne of them was a girl.")
  ShowMessageFace("sphinx_fc1",0,0,2,25)
  ShowMessage("\\n<Sphinx>So... What is the probability of both children being girls? Note that the probability of either a male or female being born is 50%.")
  ShowChoices(strings("1/2","1/3","2/3","1/4"),0)
  IfPlayerPicksChoice(0,null)
   JumpToLabel("失敗2")
   0()
  IfPlayerPicksChoice(1,null)
   JumpToLabel("正解2")
   0()
  IfPlayerPicksChoice(2,null)
   JumpToLabel("失敗2")
   0()
  IfPlayerPicksChoice(3,null)
   JumpToLabel("失敗2")
   0()
  404()
  DefineLabel("失敗2")
  ShowMessageFace("sphinx_fc1",0,0,2,26)
  ShowMessage("\\n<Sphinx>Incorrect... The answer was 1/3.\nFufu, you don't look very convinced do you?")
  ShowMessageFace("sphinx_fc1",0,0,2,27)
  ShowMessage("\\n<Sphinx>That question was a famous math problem.\nYou could ask Promestein and Mephisto for further explanation.")
  ShowMessageFace("",0,0,2,28)
  ShowMessage("I failed to answer the Sphinx's riddle correctly...\nI didn't suffer any penalty, but I still felt kind of frustrated.")
  If(1,1099,0,4,0)
   RunCommonEvent(5842)
   EndEventProcessing()
   0()
  EndIf()
  221()
  ChangeSwitch(2401,2401,0)
  RunCommonEvent(540)
  EndEventProcessing()
  DefineLabel("正解2")
  ShowMessageFace("sphinx_fc1",0,0,2,29)
  ShowMessage("\\n<Sphinx>Oho, very good...\nYou seem to have a well-rounded mind I wasn't expecting, I'm impressed.")
  ShowMessageFace("sphinx_fc1",0,0,2,30)
  ShowMessage("\\n<Sphinx>Now then, the third riddle...the last question.\nI shall present you with a conundrum.")
  ShowMessageFace("sphinx_fc1",0,0,2,31)
  ShowMessage("\\n<Sphinx>Does a dog have a Buddha-nature or not?")
  ShowChoices(strings("It does","It does not","Having one or not is the same","Don't answer"),0)
  IfPlayerPicksChoice(0,null)
   JumpToLabel("失敗3")
   0()
  IfPlayerPicksChoice(1,null)
   ShowMessageFace("sphinx_fc1",1,0,2,32)
   ShowMessage("\\n<Sphinx>Oho, fascinating indeed!\nHave you truly become so enlightened at your age...?")
   ShowMessageFace("sphinx_fc1",1,0,2,33)
   ShowMessage("\\n<Sphinx>This was my complete loss, but I truly enjoyed it. You can have this...")
   250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0a,0x49,0x74,0x65,0x6d,0x31,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x55))
   ShowMessageFace("",0,0,2,34)
   ShowMessage("Obtained the Labyrinth Book: Master Level!")
   ShowMessageFace("ruka_fc1",0,0,2,35)
   ShowMessage("\\n<Luka>What's this book...?")
   ShowMessageFace("sphinx_fc1",0,0,2,36)
   ShowMessage("\\n<Sphinx>This treasure is a trial of wisdom.\nIt imprisons the one who opens it into a labyrinth of knowledge.")
   ShowMessageFace("sphinx_fc1",0,0,2,37)
   ShowMessage("\\n<Sphinx>If you cannot solve its many challenges, you will never be able to escape from it. A mere halfwit would rot away within the book.")
   ShowMessageFace("ruka_fc1",0,0,2,38)
   ShowMessage("\\n<Luka>Yeeesh...")
   ShowMessageFace("",0,0,2,39)
   ShowMessage("Although it's nice of her to give me a reward, this book sounds really dangerous. I'll definitely have to make sure I never open it...")
   If(0,2356,0)
    ShowMessageFace("",0,0,2,40)
    ShowMessage("At any rate, I've humbled the Sphinx.\nThat should satisfy the Cow Demon Queen.")
    0()
   EndIf()
   ChangeSwitch(2357,2357,0)
   If(1,1099,0,4,0)
    RunCommonEvent(5842)
    EndEventProcessing()
    0()
   EndIf()
   221()
   ChangeSwitch(2401,2401,0)
   RunCommonEvent(540)
   EndEventProcessing()
   0()
  IfPlayerPicksChoice(2,null)
   JumpToLabel("失敗3")
   0()
  IfPlayerPicksChoice(3,null)
   ShowMessageFace("sphinx_fc1",0,0,2,41)
   ShowMessage("\\n<Sphinx>Hmph... You mean to suggest not answering is the answer itself? Sorry to say, but that is not the case here.")
   ShowMessageFace("sphinx_fc1",0,0,2,42)
   ShowMessage("\\n<Sphinx>However, you seem to have struggled more than I expected. You're still a hero after all, with a different quality of mind like that Cow Demon Queen.")
   ShowMessageFace("",0,0,2,43)
   ShowMessage("I failed to answer the Sphinx's riddle correctly...\nI didn't suffer any penalty, but I still felt kind of frustrated.")
   If(1,1099,0,4,0)
    RunCommonEvent(5842)
    EndEventProcessing()
    0()
   EndIf()
   221()
   ChangeSwitch(2401,2401,0)
   RunCommonEvent(540)
   EndEventProcessing()
   0()
  404()
  DefineLabel("失敗3")
  ShowMessageFace("sphinx_fc1",0,0,2,44)
  ShowMessage("\\n<Sphinx>Oh, and why do you think that?")
  ShowMessageFace("ruka_fc1",0,0,2,45)
  ShowMessage("\\n<Luka>............")
  ShowMessageFace("",0,0,2,46)
  ShowMessage("I couldn't give her a satisfactory response...")
  ShowMessageFace("sphinx_fc1",0,0,2,47)
  ShowMessage("\\n<Sphinx>Sorry to say, but that is not a convincing reply.\nIt would also be tactless of you to test me with an unanswered question...")
  ShowMessageFace("sphinx_fc1",0,0,2,48)
  ShowMessage("\\n<Sphinx>However, you seem to have struggled more than I expected.\nYou're still a hero after all, with a different quality of mind like that Cow Demon Queen.")
  ShowMessageFace("",0,0,2,49)
  ShowMessage("I failed to answer the Sphinx's riddle correctly...\nI didn't suffer any penalty, but I still felt kind of frustrated.")
  If(1,1099,0,4,0)
   RunCommonEvent(5842)
   EndEventProcessing()
   0()
  EndIf()
  221()
  ChangeSwitch(2401,2401,0)
  RunCommonEvent(540)
  EndEventProcessing()
  0()
 EndIf()
 If(0,2401,0)
  ShowMessageFace("sphinx_fc1",0,0,2,50)
  ShowMessage("\\n<Sphinx>Very well then, we shall enjoy another riddle.\nFor the first question, do you know how deep the ocean is...?")
  ShowMessageFace("",0,0,2,51)
  ShowMessage("I spent some time solving the Sphinx's riddles...")
  RunCommonEvent(540)
  EndEventProcessing()
  0()
 EndIf()
 0()
EndIf()
If(1,9,0,2,0)
 ShowMessageFace("",0,0,2,52)
 ShowMessage("Luka asked for help regarding the strange phenomenon...")
 ShowMessageFace("sphinx_fc1",2,0,2,53)
 ShowMessage("\\n<Sphinx>Repeating time sounds like a curse of some kind...\nI'm sorry, but I cannot assist you.")
 ShowMessageFace("sphinx_fc1",2,0,2,54)
 ShowMessage("\\n<Sphinx>...You've just reminded me, there was a treasure which did something like that. But it was so long ago that my memory is hazy...")
 ShowMessageFace("",0,0,2,55)
 ShowMessage("It doesn't look like I can turn to Sphinx for assistance...")
 JumpToLabel("メイン")
 0()
EndIf()
If(1,9,0,3,0)
 ShowMessageFace("sphinx_fc1",0,0,2,56)
 ShowMessage("\\n<Sphinx>Regrets, you say...\nThose were from a very long time ago.")
 ShowMessageFace("",0,0,2,57)
 ShowMessage("I didn't get any helpful information...")
 JumpToLabel("メイン")
 0()
EndIf()
If(1,9,0,4,0)
 ShowMessageFace("sphinx_fc1",0,0,2,58)
 ShowMessage("\\n<Sphinx>An item that can make time repeat...?\nI may just happen to know of one.")
 If(1,1102,0,2,2)
  ShowMessageFace("ruka_fc1",0,0,2,59)
  ShowMessage("\\n<Luka>Eh...?!")
  ShowMessageFace("sphinx_fc1",0,0,2,60)
  ShowMessage("\\n<Sphinx>That would be the Statue of Time Reversal.\nIf I'm recalling correctly, it was said to be a treasure created by the Goddess Ilias herself.")
  ShowMessageFace("ruka_fc1",0,0,2,61)
  ShowMessage("\\n<Luka>From Ilias...?\nThen where would I find it?")
  0()
 EndIf()
 ShowMessageFace("sphinx_fc1",0,0,2,62)
 ShowMessage("\\n<Sphinx>It was a rumor I heard during the time of the Great Monster Wars. I do not know its whereabouts now...for I was not particularly interested in it.")
 ShowMessageFace("sphinx_fc1",0,0,2,63)
 ShowMessage("\\n<Sphinx>Is there someone else who is more knowledgeable about treasures? A scholar...or a pirate perhaps?")
 If(1,1102,0,3,2)
  ChangeVariable(1102,1102,0,0,3)
  ShowMessageFace("",0,0,2,64)
  ShowMessage("A scholar or a pirate...\nI should look for someone more familiar with treasure and gather more information.")
  0()
 EndIf()
 JumpToLabel("メイン")
 0()
EndIf()
If(1,9,0,5,0)
 ShowMessageFace("sphinx_fc1",0,0,2,65)
 ShowMessage("\\n<Sphinx>Pizza, hmm...\nCould that be delivered into the Pyramid?")
 ShowMessageFace("",0,0,2,66)
 ShowMessage("It doesn't look like Sphinx ordered the pizza...")
 JumpToLabel("メイン")
 0()
EndIf()
If(1,9,0,6,0)
 ShowMessageFace("sphinx_fc1",2,0,2,67)
 ShowMessage("\\n<Sphinx>I have been cloistered within the Pyramid for a long time. I cannot keep pace with the latest technology...")
 ShowMessageFace("",0,0,2,68)
 ShowMessage("I didn't get any helpful information...")
 JumpToLabel("メイン")
 0()
EndIf()
If(1,9,0,7,0)
 ShowMessageFace("sphinx_fc1",2,0,2,69)
 ShowMessage("\\n<Sphinx>Although I possess many treasures and relics...\nThey are all works of art that would not help should you find yourself in a conflict.")
 ShowMessageFace("",0,0,2,70)
 ShowMessage("I didn't get any helpful items...")
 JumpToLabel("メイン")
 0()
EndIf()
If(1,9,0,8,0)
 ShowMessageFace("sphinx_fc1",2,0,2,71)
 ShowMessage("\\n<Sphinx>I've heard of Black Alice's notoriety...\nI'm not fond of the infamous, so I shall decline.")
 ShowMessageFace("",0,0,2,72)
 ShowMessage("Sphinx declined the invitation to the tea party...")
 JumpToLabel("メイン")
 0()
EndIf()
EndEventProcessing()
0()
