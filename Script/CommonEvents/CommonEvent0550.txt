// EVENT 0550
Name "RC: Alma Elma"

If(1,1099,0,3,0)
 If(1,1104,0,0,0)
  RunCommonEvent(545)
  EndEventProcessing()
  0()
 EndIf()
 If(1,1104,0,1,0)
  ShowMessageFace("arumaeruma_fc2",1,0,2,1)
  ShowMessage("\\n<Alma Elma>Ufufu, I must give you my thanks, Luka-boy.\nI'll have a reward for you later... Look forward to it♪")
  ShowMessageFace("",0,0,2,2)
  ShowMessage("Alma Elma says she will give me a reward.\nI'll have to make sure to meet her later...")
  0()
 Else()
  ShowMessageFace("arumaeruma_fc2",3,0,2,3)
  ShowMessage("\\n<Alma Elma>How could I have been defeated at sexiness...?\nThe succubi of other worlds are formidable opponents indeed.")
  0()
 EndIf()
 0()
EndIf()
If(1,1099,0,4,0)
 ShowMessageFace("arumaeruma_fc2",0,0,2,4)
 ShowMessage("\\n<Alma Elma>Ara, welcome♪\nI sometimes work here part-time as well.")
 If(0,2338,0)
  ShowMessageFace("",0,0,2,5)
  ShowMessage("I'm in the middle of carrying luggage at the moment.\nI should prioritize heading to the cathedral first.")
  EndEventProcessing()
  0()
 EndIf()
 If(0,2350,1)
  If(1,1104,0,1,0)
   ShowMessageFace("arumaeruma_fc2",0,0,2,6)
   ShowMessage("\\n<Alma Elma>You voted for me during the sexy showdown earlier didn't you? Thanks to you, I managed to win at the last moment...♪")
   ShowMessageFace("arumaeruma_fc2",6,0,2,7)
   ShowMessage("\\n<Alma Elma>I told you didn't I...?\nThat I would reward you afterwards.")
   ShowMessageFace("arumaeruma_fc2",6,0,2,8)
   ShowMessage("\\n<Alma Elma>Ufufu... Now what is it you want?\nOr what is it you want me to do...?")
   If(0,2364,1)
    ShowChoices(strings("Nothing in particular","Do naughty stuff (advances time)"),1)
    IfPlayerPicksChoice(0,null)
     ShowMessageFace("arumaeruma_fc2",3,0,2,9)
     ShowMessage("\\n<Alma Elma>Are you really sure about that?\nWhat selflessness...")
     JumpToLabel("メイン")
     0()
    IfPlayerPicksChoice(1,null)
     RunCommonEvent(5836)
     EndEventProcessing()
     0()
    404()
    0()
   EndIf()
   If(0,2364,0)
    ShowChoices(strings("Nothing in particular","Do naughty stuff (advances time)","I want your hair"),1)
    IfPlayerPicksChoice(0,null)
     ShowMessageFace("arumaeruma_fc2",3,0,2,10)
     ShowMessage("\\n<Alma Elma>Are you really sure about that?\nWhat selflessness...")
     JumpToLabel("メイン")
     0()
    IfPlayerPicksChoice(1,null)
     RunCommonEvent(5836)
     EndEventProcessing()
     0()
    IfPlayerPicksChoice(2,null)
     ShowMessageFace("arumaeruma_fc2",3,0,2,11)
     ShowMessage("\\n<Alma Elma>Ara, you just want some of my hair?\nThat's a bit disappointing.")
     250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0a,0x49,0x74,0x65,0x6d,0x31,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x55))
     ChangeSwitch(2350,2350,0)
     ShowMessageFace("",0,0,2,12)
     ShowMessage("Obtained Alma Elma's hair!")
     RunCommonEvent(571)
     JumpToLabel("メイン")
     0()
    404()
    0()
   EndIf()
   0()
  EndIf()
  0()
 EndIf()
 0()
EndIf()
DefineLabel("メイン")
If(1,1099,0,4,0)
 355("ex_choice_add(\"Have a drink (advances time)\",1,")
 655("\"v[1098] >= 5\",0)")
 0()
EndIf()
355("ex_choice_add(\"Consult regarding the phenomenon\",2,")
655("\"s[2341]\",0)")
655("ex_choice_add(\"Ask about any regrets\",3,")
655("\"s[2342]\",0)")
655("ex_choice_add(\"Ask about tools that can loop time\",4,")
655("\"s[2343]\",0)")
655("ex_choice_add(\"Ask about the pizza order\",5,")
655("\"s[2345]\",0)")
355("ex_choice_add(\"Ask about the mysterious makina\",6,")
655("\"s[2365]\",0)")
655("ex_choice_add(\"Ask about items needed for our plan\",7,")
655("\"s[2364]\",0)")
655("ex_choice_add(\"Invite to the tea party\",8,")
655("\"s[2378]\",0)")
655("ex_choice_add(\"Leave\",10)")
355("ex_choice_show(0,11,[0,0])")
If(1,9,0,1,0)
 TeleportPlayer(0,83,26,21,8,0)
 ShowMessageFace("ruka_fc1",0,0,2,13)
 ShowMessage("\\n<Luka>Alma Elma, you're the Queen Succubus right?\nWas your mother also a succubus queen?")
 ShowMessageFace("arumaeruma_fc2",0,0,2,14)
 ShowMessage("\\n<Alma Elma>Yeah, that's right.\nBut she's not around anymore...")
 ShowMessageFace("ruka_fc1",0,0,2,15)
 ShowMessage("\\n<Luka>So she's gone...\nSorry I asked about something unpleasant.")
 ShowMessageFace("arumaeruma_fc2",0,0,2,16)
 ShowMessage("\\n<Alma Elma>It's nothing to worry about.\nMy mother died as a succubus, and became a human.")
 ShowMessageFace("arumaeruma_fc2",0,0,2,17)
 ShowMessage("\\n<Alma Elma>I don't even know what happened to my mother after she became a human. Is she still alive, or has she already passed away...")
 ShowMessageFace("ruka_fc1",0,0,2,18)
 ShowMessage("\\n<Luka>............")
 ShowMessageFace("",0,0,2,19)
 ShowMessage("I can sense some cold emotions being expressed towards her mother. I probably shouldn't pry any deeper into this topic...")
 RunCommonEvent(5796)
 EndEventProcessing()
 0()
EndIf()
If(1,9,0,2,0)
 ShowMessageFace("",0,0,2,20)
 ShowMessage("Luka asked for help regarding the strange phenomenon...")
 ShowMessageFace("arumaeruma_fc2",2,0,2,21)
 ShowMessage("\\n<Alma Elma>That's very unfortunate, but we'll have to ride through this together... All I can offer you is comfort for your body and mind.")
 ShowMessageFace("",0,0,2,22)
 ShowMessage("It doesn't look like I can turn to Alma Elma for assistance...")
 JumpToLabel("メイン")
 0()
EndIf()
If(1,9,0,3,0)
 ShowMessageFace("arumaeruma_fc2",3,0,2,23)
 ShowMessage("\\n<Alma Elma>............")
 ShowMessageFace("arumaeruma_fc2",0,0,2,24)
 ShowMessage("\\n<Alma Elma>It's not that I don't have any of my own, but...\nI doubt they have anything to do with the space-time phenomenon you're experiencing.")
 ShowMessageFace("",0,0,2,25)
 ShowMessage("I didn't get any helpful information...")
 JumpToLabel("メイン")
 0()
EndIf()
If(1,9,0,4,0)
 ShowMessageFace("arumaeruma_fc2",3,0,2,26)
 ShowMessage("\\n<Alma Elma>I don't happen to know of any...\nIf there is an item with such a power, I imagine Ilias would've had a hand in it.")
 ShowMessageFace("",0,0,2,27)
 ShowMessage("I didn't get any helpful information...")
 JumpToLabel("メイン")
 0()
EndIf()
If(1,9,0,5,0)
 ShowMessageFace("arumaeruma_fc2",0,0,2,28)
 ShowMessage("\\n<Alma Elma>It wasn't me, but...\nThat does sound like a very convenient service. Maybe I should order some too.")
 ShowMessageFace("",0,0,2,29)
 ShowMessage("It doesn't look like Alma Elma ordered the pizza...")
 JumpToLabel("メイン")
 0()
EndIf()
If(1,9,0,6,0)
 ShowMessageFace("arumaeruma_fc2",0,0,2,30)
 ShowMessage("\\n<Alma Elma>This appears to be a pretty advanced makina...\nI don't really know what it is.")
 ShowMessageFace("",0,0,2,31)
 ShowMessage("I didn't get any helpful information...")
 JumpToLabel("メイン")
 0()
EndIf()
If(1,9,0,7,0)
 If(1,1099,0,3,0)
  ShowMessageFace("arumaeruma_fc2",3,0,2,32)
  ShowMessage("\\n<Alma Elma>A strand of succubus hair...?\nIt would be a problem if it were misused, so I can't just give mine away so thoughtlessly.")
  ShowMessageFace("",0,0,2,33)
  ShowMessage("I didn't get any helpful items...")
  JumpToLabel("メイン")
  0()
 EndIf()
 If(1,1099,0,4,0)
  If(0,2350,1)
   If(1,1104,0,1,0)
    ShowMessageFace("arumaeruma_fc2",3,0,2,34)
    ShowMessage("\\n<Alma Elma>A strand of succubus hair...?\nIt would be a problem if it were misused, so I can't just give mine away so thoughtlessly.")
    ShowMessageFace("",0,0,2,35)
    ShowMessage("I didn't get any helpful items...")
    JumpToLabel("メイン")
    0()
   Else()
    ShowMessageFace("arumaeruma_fc2",3,0,2,36)
    ShowMessage("\\n<Alma Elma>I'm a succubus who lost in a contest of sexiness after all... That sort of hair would be useless...")
    ShowMessageFace("ruka_fc1",0,0,2,37)
    ShowMessage("\\n<Luka>Looks like she's sulking...")
    ShowMessageFace("",0,0,2,38)
    ShowMessage("I didn't get any helpful items...")
    JumpToLabel("メイン")
    0()
   EndIf()
   0()
  EndIf()
  If(0,2350,0)
   ShowMessageFace("arumaeruma_fc2",1,0,2,39)
   ShowMessage("\\n<Alma Elma>Haven't I already given you my hair?\nThere are many things you can use it for, ufufu...♡")
   JumpToLabel("メイン")
   0()
  EndIf()
  0()
 EndIf()
 0()
EndIf()
If(1,9,0,8,0)
 If(1,1113,0,2,5)
  If(1,1114,0,2,5)
   ShowMessageFace("arumaeruma_fc2",0,0,2,40)
   ShowMessage("\\n<Alma Elma>I graciously accept her invitation.")
   ShowMessageFace("arumaeruma_fc2",3,0,2,41)
   ShowMessage("\\n<Alma Elma>...Ara, you weren't expecting that?\nLet's just say I have a few things I'd like to ask Black Alice.")
   If(1,1116,0,2,0)
    ChangeVariable(1116,1116,0,0,3)
    ChangeVariable(1115,1115,0,0,2)
    ChangeSwitch(2378,2378,1)
    0()
   EndIf()
   If(1,1116,0,1,0)
    ChangeVariable(1116,1116,0,0,2)
    ChangeVariable(1114,1114,0,0,2)
    0()
   EndIf()
   If(1,1116,0,0,0)
    ChangeVariable(1116,1116,0,0,1)
    ChangeVariable(1113,1113,0,0,2)
    0()
   EndIf()
   249(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x4d,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x10,0x6d,0x6f,0x6e,0x5f,0x66,0x61,0x6e,0x66,0x61,0x6c,0x65,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x69))
   ShowMessageFace("",0,0,2,42)
   ShowMessage("Alma Elma accepted the tea party invitation!")
   If(1,1116,0,1,0)
    ShowMessageFace("",0,0,2,43)
    ShowMessage("That's one guest I've invited to Black Alice's tea party. Let's gather two more participants!")
    0()
   EndIf()
   If(1,1116,0,2,0)
    ShowMessageFace("",0,0,2,44)
    ShowMessage("That's two guests I've invited to Black Alice's tea party. Let's gather one more participant!")
    0()
   EndIf()
   If(1,1116,0,3,0)
    ShowMessageFace("",0,0,2,45)
    ShowMessage("That's three guests I've invited to Black Alice's tea party. Let's head to Black Alice's room once it's 4 o'clock!")
    0()
   EndIf()
   JumpToLabel("メイン")
   0()
  EndIf()
  0()
 EndIf()
 ShowMessageFace("",0,0,2,46)
 ShowMessage("I've already invited her to the tea party...")
 JumpToLabel("メイン")
 0()
EndIf()
EndEventProcessing()
0()
